name = "insightflow-dashboard"
main = "src/index.ts"
compatibility_date = "2024-05-12"

# Serve static assets from the frontend build
[assets]
directory = "./frontend/dist"

# D1 Database binding for storing user journeys and conversion data
[[d1_databases]]
binding = "DB"
database_name = "insightflow-db"
database_id = "0462e778-08a2-43ce-94ea-6c996c0d92d5"

# KV Namespace binding for caching and quick lookups
[[kv_namespaces]]
binding = "CACHE"
id = "a711a36a6d5a48d18c3a2f13afc1a228"

# AI binding for generating insights
[ai]
binding = "AI"

[vars]
ENVIRONMENT = "development"

# Cron triggers for automated tasks
# Runs daily at midnight UTC
[triggers]
crons = ["0 0 * * *"]
